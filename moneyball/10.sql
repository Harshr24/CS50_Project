SELECT players.first_name, players.last_name, salaries.salary, salaries.year, performances.HR FROM players LEFT JOIN (SELECT player_id, year, MAX(salary) as salary FROM salaries GROUP BY player_id, year) salaries ON players.id = salaries.player_id LEFT JOIN (SELECT player_id, year, MAX(HR) as HR FROM performances GROUP BY player_id, year) performances ON players.id = performances.player_id AND salaries.year = performances.year ORDER BY players.id, performances.year DESC, performances.HR DESC, salaries.salary DESC;
